((function(){function b(a){return Object.prototype.toString.call(a)==="[object Array]"}function c(a){typeof d.logger=="function"&&d.logger(a)}function d(a,c){var g,h,i;if(!a)return;c==null&&(c={_text:""});var j=f(a);i=b(c);if(i){if(j.length===0)return;h=j[0].parentNode;while(j.length<c.length)g=j[0].cloneNode(!0),j.push(g),h&&h.appendChild(g);while(j.length>c.length)g=j.pop(),h=g.parentNode,h&&h.removeChild(g)}for(var k=0;k<j.length;k++)i?d(j[k],c[k]):e(j[k],c);return a}function e(a,b){var c,f,h,i;if(typeof b=="function")return;if(typeof b!="object")return e(a,{_text:b});for(var k in b){var l=b[k];l==null&&(l="");if(k[0]==="_"){if(typeof l!="string"&&typeof l!="number")throw new Error('Expected a string or number for "'+k+'", got: "'+JSON.stringify(l)+'"');c=c||{},c[k.substr(1)]=l}}c&&g(a,c);for(var k in b){var l=b[k];k[0]!=="_"&&(i=j(a,k),d(i,l))}}function f(a){var c;a.length==null&&(a=[a]);if(!b(a)){c=[];for(var d=0;d<a.length;d+=1)a[d]&&c.push(a[d]);a=c}return a}function g(a,b){h(a,b.text),i(a,b.html);for(var c in b){if(c==="text"||c==="html")continue;a.setAttribute(c,b[c].toString())}}function h(b,c){var d,e;if(!b||c==null)return;if(!e){e=[];for(var f=0;f<b.childNodes.length;f+=1)d=b.childNodes[f],d.nodeType===a&&e.push(d)}while(b.firstChild)b.removeChild(b.firstChild);b.nodeName.toLowerCase()==="input"?b.setAttribute("value",c.toString()):b.appendChild(b.ownerDocument.createTextNode(c.toString()));for(var f=0;f<e.length;f+=1)b.appendChild(e[f])}function i(a,b){if(!a||b==null)return;a.innerHTML=b}function j(a,b,d){var e=k(a),f=[],g=b,h=b[0]==="$";g[0]==="$"&&(g=g.substr(1));for(var i=0;i<e.length;i+=1)l(e[i],g)&&f.push(e[i]);if(!f.length||h)for(var i=0;i<e.length;i++){f=f.concat(j(e[i],b,!0));if(f.length&&!h)break}return!d&&!f.length&&c('FILL - Warning: no matches found for "'+b+'"'),f}function k(b){var c=b.childNodes,d=[];for(var e=0;e<c.length;e+=1)c[e].nodeType===a&&d.push(c[e]);return d}function l(a,b){var c=" "+a.className+" ";return a.id===b||c.indexOf(" "+b+" ")>-1||a.name===b||a.nodeName.toLowerCase()===b.toLowerCase()||a.getAttribute("data-bind")===b}var a=1;typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.fill=function(a){return d.logger=jQuery.fn.fill.logger,d(this.get(),a),this}),typeof module!="undefined"&&module!==null&&(module.exports=d),this.fill=d})).call(this);