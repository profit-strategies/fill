(function(){function b(a){return Object.prototype.toString.call(a)==="[object Array]"}function c(a){typeof d.logger=="function"&&d.logger(a)}function d(a,c){var g,h,i;if(!a)return;c==null&&(c={_text:""});var j=f(a);i=b(c);if(i){if(j.length===0)return;h=j[0].parentNode;while(j.length<c.length)g=j[0].cloneNode(!0),j.push(g),h&&h.appendChild(g);while(j.length>c.length)g=j.pop(),h=g.parentNode,h&&h.removeChild(g)}for(var k=0;k<j.length;k++)i?d(j[k],c[k]):e(j[k],c);return a}function e(a,b){var c,f,h,i,j;if(typeof b=="function")return;if(typeof b!="object")return e(a,{_text:b});for(var l in b){var m=b[l];m==null&&(m="");if(l[0]==="_"){if(typeof m!="string"&&typeof m!="number")throw new Error('Expected a string or number for "'+l+'", got: "'+JSON.stringify(m)+'"');c=c||{},c[l.substr(1)]=m}}c&&g(a,c);for(var l in b){var m=b[l];l[0]!=="_"&&(j=k(a,l),d(j,m))}}function f(a){var c;a.length==null&&(a=[a]);if(!b(a)){c=[];for(var d=0;d<a.length;d+=1)a[d]&&c.push(a[d]);a=c}return a}function g(a,b){h(a,b.text),j(a,b.html);for(attrName in b){if(attrName==="text"||attrName==="html")continue;a.setAttribute(attrName,b[attrName].toString())}}function h(b,c){var d,e;if(!b||c==null)return;if(!e){e=[];for(i=0;i<b.childNodes.length;i+=1)d=b.childNodes[i],d.nodeType===a&&e.push(d)}while(b.firstChild)b.removeChild(b.firstChild);b.nodeName.toLowerCase()==="input"?b.setAttribute("value",c.toString()):b.appendChild(b.ownerDocument.createTextNode(c.toString()));for(i=0;i<e.length;i+=1)b.appendChild(e[i])}function j(a,b){if(!a||b==null)return;a.innerHTML=b}function k(a,b,d){var e=l(a),f=[],g=b,h=b[0]==="$";g[0]==="$"&&(g=g.substr(1));for(i=0;i<e.length;i+=1)m(e[i],g)&&f.push(e[i]);if(!f.length||h)for(var i=0;i<e.length;i++){f=f.concat(k(e[i],b,!0));if(f.length&&!h)break}return!d&&!f.length&&c('FILL - Warning: no matches found for "'+b+'"'),f}function l(b){var c=b.childNodes,d=[];for(i=0;i<c.length;i+=1)c[i].nodeType===a&&d.push(c[i]);return d}function m(a,b){var c=" "+a.className+" ";return a.id===b||c.indexOf(" "+b+" ")>-1||a.name===b||a.nodeName.toLowerCase()===b.toLowerCase()||a.getAttribute("data-bind")===b}var a=1;typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.fill=function(a){return d.logger=jQuery.fn.fill.logger,d(this.get(),a),this}),typeof module!="undefined"&&module!==null&&(module.exports=d),this.fill=d}).call(this);